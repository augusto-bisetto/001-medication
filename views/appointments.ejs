<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <link href='/Calendar/main.min.css' rel='stylesheet'/>
    <link rel="stylesheet" href="/appointments.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/b886c2081b.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id='external-events'>
      <p>
        <strong>Draggable Events</strong>
      </p>
    
      <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
        <div class='fc-event-main'>My Event 1</div>
      </div>
      <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
        <div class='fc-event-main'>My Event 2</div>
      </div>
      <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
        <div class='fc-event-main'>My Event 3</div>
      </div>
      <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
        <div class='fc-event-main'>My Event 4</div>
      </div>
      <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
        <div class='fc-event-main'>My Event 5</div>
      </div>
    
      <p>
        <input type='checkbox' id='drop-remove' />
        <label for='drop-remove'>remove after drop</label>
      </p>
    </div>

    <button onclick="window.location.href='/'">Homepage</button>

    
    <div id='calendar-container'>
      <div id='calendar'></div>
    </div>
    <div id='calendar'></div>
    <script src='/Calendar/main.min.js'></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
    var Calendar = FullCalendar.Calendar;
    var Draggable = FullCalendar.Draggable;

    var containerEl = document.getElementById('external-events');
    var calendarEl = document.getElementById('calendar');
    var checkbox = document.getElementById('drop-remove');
  
      new Draggable(containerEl, {
      itemSelector: '.fc-event',
      eventData: function(eventEl) {
        return {
          title: eventEl.innerText
        };
      }
    });
    
    var calendar = new Calendar(calendarEl, {
      timeZone: 'UTC',
      initialView: 'dayGridMonth',
      headerToolbar: {
      left: 'dayGridMonth,timeGridWeek,timeGridDay custom1',
      center: 'addEventButton',
      right: 'custom2 prevYear,prev,next,nextYear'
    },
      footerToolbar: {
      left: 'custom1,custom2',
      center: '',
      right: 'prev,next'
    },
      customButtons: {
      custom1: {
        text: 'custom 1',
          click: function() {
            alert('clicked custom button 1!');
        }
      },
      custom2: {
        text: 'custom 2',
        click: function() {
          alert('clicked custom button 2!');
        }
      },
      addEventButton: {
        text: 'add event...',
        click: function() {
          var dateStr = prompt('Enter a date in YYYY-MM-DD format');
          var date = new Date(dateStr + 'T00:00:00'); // will be in local time

          if (!isNaN(date.valueOf())) { // valid?
            calendar.addEvent({
              title: 'dynamic event',
              start: date,
              allDay: true
            });
            alert('Great. Now, update your database...');
          } else {
            alert('Invalid date.');
          }
        }
      }
},
      
      eventClick: function(info) {
      var eventObj = info.event;

      if (eventObj.url) {
        alert(
          'Clicked ' + eventObj.title + '.\n' +
          'Will open ' + eventObj.url + ' in a new tab'
        );

        window.open(eventObj.url);

        info.jsEvent.preventDefault(); // prevents browser from following link in current tab.
      } else {
        alert('Clicked ' + eventObj.title);
      }
    },

      weekNumbers: true,
      navLinks: true,
      dayMaxEventRows: true, 
      editable: true,
      dayMaxEvents: true,
      events: [
      {
      title  : 'event1',
      start  : '2022-05-01T12:30:00',
      allDay : false, // will make the time show
      dayMaxEventRows: 6
      },
      {
      title  : 'event2',
      start  : '2022-05-01T12:30:00',
      allDay : false // will make the time show
      },
      {
      title  : 'event3',
      start  : '2022-05-01T12:30:00',
      allDay : false // will make the time show
      }
      
    ]
    });
    
    calendar.render();
  });


    </script>
  </body>
